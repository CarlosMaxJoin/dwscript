#summary DWScript sample WebServer
#labels Featured

= Introduction =

DWScript WebServer is based on http.sys 2.0 and requires under Windows 2008, Vista or above.

= Built-in features =

Serves a directory as www root, by default the www folder in the directory where the executable is configured, though that can be changed.

In that directory:
* all files with the ".dws" extensions will be processed as scripts
* all folders or file whose name starts with '.' are hidden and won't be served (if queried, the error will be 404)
* other files that are present will be served "as they are"
* when a directory is queried, server will serve index.dws, index.htm or index.html (first present, in that order)

Deflate compression will be applied if the client browser accepts it for text files (mime types "text/*" and selected "application/*") larger than 1024 bytes.

= Options.json =

The options.json files contains the standard server options.

{{{
{
   "Server": { server options] },
   "CPU": { cpu options },
   "DWScript": { DWScript options }
}
}}}

== Server options ==

  * === Port ===

  HTTP server port, 888 by default.

  If zero, no http port is opened.

  * === SSLPort ===

  HTTPS server port, 0 by default (not opened).

  You'll need to have a valid certificate registered or this will fail. See [http://msdn.microsoft.com/en-us/library/ms733791.aspx Configure a Port with an SSL Certificate], or you can use a GUI like [http://httpsysmanager.codeplex.com/ HTTPSysManager]. If you don't have a certificate, you can use a self-signed certificate (will result in browser warnings), buy one, or get a free one from [https://www.startssl.com/ StartCom].

  * === WWWPath ===

  Base path for served files.

  If not defined or empty, will serve a www subfolder of the folder where the executable is.

  * === WorkerThreads ===

  Number of worker threads to use, 8 by default.

  Note that this number is not the number of simultaneous connections, but the number of script threads that can run at the same time. Optimal values will depend on your workload. High values will not be effective unless you have a high CPU core count or your scripts are "spending" most of their time waiting for I/O.


  * === LogDirectory ===

  Directory for log files ([http://en.wikipedia.org/wiki/NCSA_log_formats Common log format]).

  If empty, logs are not active.

  * === MaxConnections ===

  Maximum number of simultaneous connections, infinite by default.

  Zero is understood as infinite.

  * === MaxBandwidth ===

  Maximum bandwidth in bytes per second, infinite by default.

  You can use this to limit the maximum outgoing bandwidth of your server.

  Zero is understood as infinite.

  * === MaxBandwidth ===

  Maximum input http request length in bytes, 10 megabytes by default.

  Requests that go over this limit will be canceled. You can use this to limit the incoming bandwidth of your server as well as minimize memory usage in case of malformed requests or very huge requests.

  Zero is understood as 10 MBytes.

== CPU options ==

  * === UsageLimit ===

  Usage limit for the server process expressed as percentage (0-100) of total system usage, unlimited by default.

  When process CPU usage goes above that limit, the server will delay the execution of scripts for incoming requests, and if CPU usage didn't go below the limit before the end of the delay, the request will be answered with a 503 error.

  This is a soft limit that can be exceeded.

  Zero is understood as unlimited.

  * === Affinity ===

  Bitwise value that allows specifying the server process CPU affinity, no affinity by default.

  This can be used to assign the server process to specific CPU or for placing a hard limit on maximum CPU usage.

  Zero is understood as no affinity.

== DWScript options ==
